<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage · JustSayIt.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://omlins.github.io/JustSayIt.jl/usage/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JustSayIt.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction and Quick Start</a></li><li class="is-active"><a class="tocitem" href>Usage</a><ul class="internal"><li><a class="tocitem" href="#Fully-automatic-installation"><span>Fully automatic installation</span></a></li><li><a class="tocitem" href="#Simple-basic-software-usage"><span>Simple basic software usage</span></a></li><li><a class="tocitem" href="#User-definable-mapping-of-command-names-to-functions-or-keyboard-shortcuts"><span>User definable mapping of command names to functions or keyboard shortcuts</span></a></li><li><a class="tocitem" href="#Per-command-choice-between-maximum-speed-or-accuracy"><span>Per command choice between maximum speed or accuracy</span></a></li><li><a class="tocitem" href="#Help-on-commands-callable-by-voice"><span>Help on commands callable by voice</span></a></li><li><a class="tocitem" href="#Sleep-and-wake-up-by-voice"><span>Sleep and wake up by voice</span></a></li><li><a class="tocitem" href="#Fast-command-programming-with-voice-argument-functions"><span>Fast command programming with voice argument functions</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/config_custom_function/">Quick definition and usage of custom function</a></li></ul></li><li><a class="tocitem" href="../software/">Software reference</a></li><li><a class="tocitem" href="../api/">High-level API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Usage</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/omlins/JustSayIt.jl/blob/main/docs/src/usage.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h1><h2 id="Fully-automatic-installation"><a class="docs-heading-anchor" href="#Fully-automatic-installation">Fully automatic installation</a><a id="Fully-automatic-installation-1"></a><a class="docs-heading-anchor-permalink" href="#Fully-automatic-installation" title="Permalink"></a></h2><p>After installing <a href="https://julialang.org">Julia</a> - if not yet installed - JustSayIt can be installed directly with the <a href="https://docs.julialang.org/en/v1/stdlib/Pkg/">Julia package manager</a> from the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/">Julia REPL</a>:</p><pre><code class="language-julia-repl hljs">julia&gt;]
  pkg&gt; add JustSayIt</code></pre><p>All dependencies are automatically installed. Python dependencies are automatically installed in a local Miniconda environment, set up by <a href="https://github.com/JuliaPy/Conda.jl">Conda.jl</a>. Default language models are automatically downloaded at first usage of JustSayIt.</p><h2 id="Simple-basic-software-usage"><a class="docs-heading-anchor" href="#Simple-basic-software-usage">Simple basic software usage</a><a id="Simple-basic-software-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-basic-software-usage" title="Permalink"></a></h2><p>The basic usage of JustSayIt is as simple as launching the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/">Julia REPL</a> and calling the commands <code>using JustSayIt</code> followed by <code>start()</code>:</p><pre><code class="language-julia-repl hljs">$&gt; julia
julia&gt; using JustSayIt
julia&gt; start()</code></pre><p>More information on customization keywords of <a href="../software/#JustSayIt.start"><code>start</code></a> is given in the following subsections and in the <a href="../software/#Software-reference">Software reference</a>.</p><h2 id="User-definable-mapping-of-command-names-to-functions-or-keyboard-shortcuts"><a class="docs-heading-anchor" href="#User-definable-mapping-of-command-names-to-functions-or-keyboard-shortcuts">User definable mapping of command names to functions or keyboard shortcuts</a><a id="User-definable-mapping-of-command-names-to-functions-or-keyboard-shortcuts-1"></a><a class="docs-heading-anchor-permalink" href="#User-definable-mapping-of-command-names-to-functions-or-keyboard-shortcuts" title="Permalink"></a></h2><p>The keyword <code>commands</code> of <a href="../software/#JustSayIt.start"><code>start</code></a> enables to freely define a mapping of command names to functions or keyboard shortcuts or sequences of those, e.g.:</p><pre><code class="language-julia hljs"># Define custom commands
using JustSayIt
commands = Dict(&quot;help&quot;      =&gt; Help.help,
                &quot;type&quot;      =&gt; Keyboard.type,
                &quot;ma&quot;        =&gt; Mouse.click_left,
                &quot;select&quot;    =&gt; Mouse.press_left,
                &quot;okay&quot;      =&gt; Mouse.release_left,
                &quot;middle&quot;    =&gt; Mouse.click_middle,
                &quot;right&quot;     =&gt; Mouse.click_right,
                &quot;double&quot;    =&gt; Mouse.click_double,
                &quot;triple&quot;    =&gt; Mouse.click_triple,
                &quot;copy&quot;      =&gt; (Key.ctrl, &#39;c&#39;),
                &quot;cut&quot;       =&gt; (Key.ctrl, &#39;x&#39;),
                &quot;paste&quot;     =&gt; (Key.ctrl, &#39;v&#39;),
                &quot;undo&quot;      =&gt; (Key.ctrl, &#39;z&#39;),
                &quot;redo&quot;      =&gt; (Key.ctrl, Key.shift, &#39;z&#39;),
                &quot;upwards&quot;   =&gt; Key.page_up,
                &quot;downwards&quot; =&gt; Key.page_down,
                &quot;take&quot;      =&gt; [Mouse.click_double, (Key.ctrl, &#39;c&#39;)],
                &quot;replace&quot;   =&gt; [Mouse.click_double, (Key.ctrl, &#39;v&#39;)],
                );
start(commands=commands, max_speed_subset=[&quot;ma&quot;, &quot;select&quot;, &quot;okay&quot;, &quot;middle&quot;, &quot;right&quot;, &quot;double&quot;, &quot;triple&quot;, &quot;copy&quot;, &quot;upwards&quot;, &quot;downwards&quot;, &quot;take&quot;])</code></pre><p>Note that keyboard shortcuts are given as either single keys (e.g., <code>Key.page_up</code>) or tuples of keys (e.g., <code>(Key.ctrl, &#39;c&#39;)</code>). Special keys are selected from those available in <code>Key</code>: type <code>Key.</code>+ <code>tab</code> in the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/">Julia REPL</a> to see the available keys (the full documentation on the available keys is available <a href="https://pynput.readthedocs.io/en/latest/keyboard.html#pynput.keyboard.Key">here</a>). Character keys are simply given in single quotes (e.g., <code>&#39;c&#39;</code>).</p><p>A mapping of a command name to a sequence of commands can be defined by using as mapping target an array whose elements are functions or keyboard shortcuts (e.g., <code>[Mouse.click_double, (Key.ctrl, &#39;c&#39;)]</code>). This enables to express new complex actions without programming. In the above example, &quot;take&quot; double clicks the word below the mouse curser to select it and then copies it; &quot;replace&quot; double clicks the word below the mouse curser to select it and then replaces it.</p><p>The keyword <code>subset</code> of <a href="../software/#JustSayIt.start"><code>start</code></a> enables to activate only a subset of the default or user-defined commands. The following example selects a subset of the default commands:</p><pre><code class="language-julia hljs"># Listen only to the commands &quot;help&quot; and &quot;type&quot;.
using JustSayIt
start(subset=[&quot;help&quot;, &quot;type&quot;])</code></pre><h2 id="Per-command-choice-between-maximum-speed-or-accuracy"><a class="docs-heading-anchor" href="#Per-command-choice-between-maximum-speed-or-accuracy">Per command choice between maximum speed or accuracy</a><a id="Per-command-choice-between-maximum-speed-or-accuracy-1"></a><a class="docs-heading-anchor-permalink" href="#Per-command-choice-between-maximum-speed-or-accuracy" title="Permalink"></a></h2><p>The keyword <code>max_speed_subset</code> of <a href="../software/#JustSayIt.start"><code>start</code></a> enables to define a subset of the <code>commands</code> for which the command names are to be recognized with maximum speed rather than with maximum accuracy, e.g.:</p><pre><code class="language-julia hljs"># Define custom commands
using JustSayIt
commands = Dict(&quot;copy&quot;      =&gt; (Key.ctrl, &#39;c&#39;),
                &quot;cut&quot;       =&gt; (Key.ctrl, &#39;x&#39;),
                &quot;paste&quot;     =&gt; (Key.ctrl, &#39;v&#39;),
                &quot;undo&quot;      =&gt; (Key.ctrl, &#39;z&#39;),
                &quot;redo&quot;      =&gt; (Key.ctrl, Key.shift, &#39;z&#39;),
                &quot;upwards&quot;   =&gt; Key.page_up,
                &quot;downwards&quot; =&gt; Key.page_down,
                );
start(commands=commands, max_speed_subset=[&quot;upwards&quot;, &quot;downwards&quot;, &quot;copy&quot;])</code></pre><p>Forcing maximum speed is usually desired for single word commands that map to functions or keyboard shortcuts that should trigger immediate actions as, e.g., mouse clicks or, as in the above example page up/down or copy (in general, actions that do not modify content and can therefore safely be triggered at maximum speed). However, it is typically not desired for &quot;dangerous&quot; actions, like &quot;cut&quot;, &quot;paste&quot;, &quot;undo&quot; and &quot;redo&quot; in this example. Note that forcing maximum speed means not to wait for a certain amount of silence after the end of a command as normally done for the full confirmation of a recognition. As a result, it enables a minimal latency between the saying of a command name and its execution. Note that it is usually possible to define very distinctive command names, which allow for a safe command name to shortcut mapping at maximum speed (to be tested case by case).</p><p>Note furthermore that a good recording quality is important in order to achieve a good recognition accuracy. In particular, background noise might reduce recognition accuracy. Thus, a microphone integrated in a notebook or a webcam might potentially lead to unsatisfying accuracy, while a headset or an external microphone that is well set up should lead to good accuracy. JustSayIt relying on the <a href="https://alphacephei.com/vosk/">Vosk Speech Recognition Toolkit</a>, it is the latter that dictates the requirements on recording quality for good recognition accuracy (for more information, have a look at the subsection <a href="https://alphacephei.com/vosk/accuracy">accuracy</a> on their website).</p><h2 id="Help-on-commands-callable-by-voice"><a class="docs-heading-anchor" href="#Help-on-commands-callable-by-voice">Help on commands callable by voice</a><a id="Help-on-commands-callable-by-voice-1"></a><a class="docs-heading-anchor-permalink" href="#Help-on-commands-callable-by-voice" title="Permalink"></a></h2><p>Saying &quot;help commands&quot; lists your available commands in the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/">Julia REPL</a> leading to, e.g., the following output:</p><pre><code class="language-julia-repl hljs">┌ Info:
│ Your commands:
│ copy      =&gt; ctrl + c
│ cut       =&gt; ctrl + x
│ double    =&gt; click_double
│ downwards =&gt; page_down
│ email     =&gt; email
│ help      =&gt; help
│ internet  =&gt; internet
│ ma        =&gt; click_left
│ middle    =&gt; click_middle
│ okay      =&gt; release_left
│ paste     =&gt; ctrl + v
│ redo      =&gt; ctrl + shift + z
│ right     =&gt; click_right
│ select    =&gt; press_left
│ triple    =&gt; click_triple
│ type      =&gt; type
│ undo      =&gt; ctrl + z
└ upwards   =&gt; page_up</code></pre><p>Saying &quot;help &lt;command name&gt;&quot;, where <code>&lt;command name&gt;</code> is to be replaced with one of the available commands, shows the help for the corresponding command. Here is, e.g., the output produced when saying &quot;help email&quot;:</p><pre><code class="language-julia-repl hljs">[ Info: Starting command: help (latency: 6 ms)
┌ Info: Command email
│    =
│      email `inbox` | `outbox`
│    
│      Manage e-mails, performing one of the following actions:
│    
│        •  open inbox
│    
└        •  open outbox</code></pre><p>Note that the submodules <a href="../software/#JustSayIt.Email"><code>Email</code></a> and <a href="../software/#JustSayIt.Internet"><code>Internet</code></a> contain still very little functionality. Yet, they illustrate how submodules for all kind of operations can be programmed.</p><h2 id="Sleep-and-wake-up-by-voice"><a class="docs-heading-anchor" href="#Sleep-and-wake-up-by-voice">Sleep and wake up by voice</a><a id="Sleep-and-wake-up-by-voice-1"></a><a class="docs-heading-anchor-permalink" href="#Sleep-and-wake-up-by-voice" title="Permalink"></a></h2><p>Saying &quot;sleep JustSayIt&quot; puts JustSayIt to sleep. It will not execute any commands until it is awoken with the words &quot;awake JustSayIt&quot;.</p><h2 id="Fast-command-programming-with-voice-argument-functions"><a class="docs-heading-anchor" href="#Fast-command-programming-with-voice-argument-functions">Fast command programming with voice argument functions</a><a id="Fast-command-programming-with-voice-argument-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Fast-command-programming-with-voice-argument-functions" title="Permalink"></a></h2><p>JustSayIt commands map to regular Julia functions. Function arguments can be easily passed by voice thanks to the <a href="../api/#JustSayIt.@voiceargs"><code>@voiceargs</code></a> macro. It allows to declare arguments in standard function definitions to be directly obtainable by voice. It, furthermore, allows to define speech recognition parameters for each voice argument as, e.g., the valid speech input. The following shows some examples:</p><pre><code class="language-julia hljs">  @voiceargs (b, c) function f(a, b::String, c::String, d)
      #(...)
      return
  end</code></pre><pre><code class="language-julia hljs">    @voiceargs (b=&gt;(use_max_speed=true), c) function f(a, b::String, c::String, d)
        #(...)
        return
    end</code></pre><pre><code class="language-julia hljs">    @enum TypeMode words formula
    @voiceargs (mode=&gt;(valid_input_auto=true), token=&gt;(model=MODELNAME.TYPE.EN_US, vararg_timeout=2.0)) function type_tokens(mode::TypeMode, tokens::String...)
        #(...)
        return
    end</code></pre><p>Detailed information on <a href="../api/#JustSayIt.@voiceargs"><code>@voiceargs</code></a> is found in the <a href="../api/#High-level-API-reference">High-level API reference</a>.</p><p>While contributions to the JustSayIt command modules are very much encouraged, it is possible to quickly define and use custom <a href="../api/#JustSayIt.@voiceargs"><code>@voiceargs</code></a> functions thanks to the API of JustSayIt (<a href="../api/#JustSayIt.API"><code>JustSayIt.API</code></a>). It is illustrated in <a href="../examples/config_custom_function/#Quick-definition-and-usage-of-custom-function">this example</a>. More information on the JustSayIt API is given in the <a href="../api/#High-level-API-reference">High-level API reference</a>.</p><p>Note that the JustSayIt application config folder (e.g., <code>~/.config/JustSayIt</code> on Unix systems) is an easily accessible storage for scripts to start JustSayIt and/or for custom command functions: <a href="../software/#JustSayIt.@include_config"><code>@include_config</code></a> permits to conveniently <code>include</code> files from this folder.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction and Quick Start</a><a class="docs-footer-nextpage" href="../examples/">... »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 8 September 2022 15:15">Thursday 8 September 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
